// jQuery Animate Enhanced
(function(c,I,J){function O(a,b,c,f,l,k,h,p,q){var t=!1,h=!0===h&&!0===p,b=b||{};b.original||(b.original={},t=!0);b.properties=b.properties||{};b.secondary=b.secondary||{};for(var p=b.meta,m=b.original,g=b.properties,P=b.secondary,B=r.length-1;0<=B;B--){var D=r[B]+"transition-property",E=r[B]+"transition-duration",i=r[B]+"transition-timing-function",c=h?r[B]+"transform":c;t&&(m[D]=a.css(D)||"",m[E]=a.css(E)||"",m[i]=a.css(i)||"");P[c]=h?(!0===q||!0===y&&!1!==q)&&K?"translate3d("+p.left+"px, "+p.top+
"px, 0)":"translate("+p.left+"px,"+p.top+"px)":k;g[D]=(g[D]?g[D]+",":"")+c;g[E]=(g[E]?g[E]+",":"")+f+"ms";g[i]=(g[i]?g[i]+",":"")+l}return b}function z(a){for(var c in a)return!1;return!0}function G(a){return parseFloat(a.replace(a.match(/\D+$/),""))}function L(a){var c=!0;a.each(function(a,f){return c=c&&f.ownerDocument});return c}var Q="top right bottom left opacity height width".split(" "),H=["top","right","bottom","left"],r=["-webkit-","-moz-","-o-",""],R=["avoidTransforms","useTranslate3d","leaveTransforms"],
S=/^([+-]=)?([\d+-.]+)(.*)$/,T=/([A-Z])/g,U={secondary:{},meta:{top:0,right:0,bottom:0,left:0}},M=null,F=!1,A=(document.body||document.documentElement).style,N=void 0!==A.WebkitTransition||void 0!==A.MozTransition||void 0!==A.OTransition||void 0!==A.transition,K="WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix,y=K;c.expr&&c.expr.filters&&(M=c.expr.filters.animated,c.expr.filters.animated=function(a){return c(a).data("events")&&c(a).data("events")["webkitTransitionEnd oTransitionEnd transitionend"]?
!0:M.call(this,a)});c.extend({toggle3DByDefault:function(){return y=!y},toggleDisabledByDefault:function(){return F=!F}});c.fn.translation=function(){if(!this[0])return null;var a=window.getComputedStyle(this[0],null),c={x:0,y:0};if(a)for(var n=r.length-1;0<=n;n--){var f=a.getPropertyValue(r[n]+"transform");if(f&&/matrix/i.test(f)){a=f.replace(/^matrix\(/i,"").split(/, |\)$/g);c={x:parseInt(a[4],10),y:parseInt(a[5],10)};break}}return c};c.fn.animate=function(a,b,n,f){var a=a||{},l=!("undefined"!==
typeof a.bottom||"undefined"!==typeof a.right),k=c.speed(b,n,f),h=this,p=0,q=function(){p--;0===p&&"function"===typeof k.complete&&k.complete.apply(h,arguments)},t;if(!(t=!0===("undefined"!==typeof a.avoidCSSTransitions?a.avoidCSSTransitions:F)))if(!(t=!N))if(!(t=z(a))){var m;a:{for(m in a)if(("width"==m||"height"==m)&&("show"==a[m]||"hide"==a[m]||"toggle"==a[m])){m=!0;break a}m=!1}t=m||0>=k.duration||!0===c.fn.animate.defaults.avoidTransforms&&!1!==a.avoidTransforms}return t?I.apply(this,arguments):
this[!0===k.queue?"queue":"each"](function(){var g=c(this),b=c.extend({},k),h=function(b){var f=g.data("jQe")||{original:{}},e={};if(2==b.eventPhase){if(!0!==a.leaveTransforms){for(b=r.length-1;0<=b;b--)e[r[b]+"transform"]="";if(l&&"undefined"!==typeof f.meta)for(var b=0,d;d=H[b];++b)e[d]=f.meta[d+"_o"]+"px",c(this).css(d,e[d])}g.unbind("webkitTransitionEnd oTransitionEnd transitionend").css(f.original).css(e).data("jQe",null);"hide"===a.opacity&&g.css({display:"none",opacity:""});q.call(this)}},
f={bounce:"cubic-bezier(0.0, 0.35, .5, 1.3)",linear:"linear",swing:"ease-in-out",easeInQuad:"cubic-bezier(0.550, 0.085, 0.680, 0.530)",easeInCubic:"cubic-bezier(0.550, 0.055, 0.675, 0.190)",easeInQuart:"cubic-bezier(0.895, 0.030, 0.685, 0.220)",easeInQuint:"cubic-bezier(0.755, 0.050, 0.855, 0.060)",easeInSine:"cubic-bezier(0.470, 0.000, 0.745, 0.715)",easeInExpo:"cubic-bezier(0.950, 0.050, 0.795, 0.035)",easeInCirc:"cubic-bezier(0.600, 0.040, 0.980, 0.335)",easeInBack:"cubic-bezier(0.600, -0.280, 0.735, 0.045)",
easeOutQuad:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",easeOutCubic:"cubic-bezier(0.215, 0.610, 0.355, 1.000)",easeOutQuart:"cubic-bezier(0.165, 0.840, 0.440, 1.000)",easeOutQuint:"cubic-bezier(0.230, 1.000, 0.320, 1.000)",easeOutSine:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",easeOutExpo:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",easeOutCirc:"cubic-bezier(0.075, 0.820, 0.165, 1.000)",easeOutBack:"cubic-bezier(0.175, 0.885, 0.320, 1.275)",easeInOutQuad:"cubic-bezier(0.455, 0.030, 0.515, 0.955)",easeInOutCubic:"cubic-bezier(0.645, 0.045, 0.355, 1.000)",
easeInOutQuart:"cubic-bezier(0.770, 0.000, 0.175, 1.000)",easeInOutQuint:"cubic-bezier(0.860, 0.000, 0.070, 1.000)",easeInOutSine:"cubic-bezier(0.445, 0.050, 0.550, 0.950)",easeInOutExpo:"cubic-bezier(1.000, 0.000, 0.000, 1.000)",easeInOutCirc:"cubic-bezier(0.785, 0.135, 0.150, 0.860)",easeInOutBack:"cubic-bezier(0.680, -0.550, 0.265, 1.550)"},m={},f=f[b.easing||"swing"]?f[b.easing||"swing"]:b.easing||"swing",i;for(i in a)if(-1===c.inArray(i,R)){var n=-1<c.inArray(i,H),j;var d=g,w=a[i],u=i,s=n&&!0!==
a.avoidTransforms;if("d"==u)j=void 0;else if(L(d)){var e=S.exec(w);j="auto"===d.css(u)?0:d.css(u);j="string"==typeof j?G(j):j;"string"==typeof w&&G(w);var s=!0===s?0:j,t=d.is(":hidden"),v=d.translation();"left"==u&&(s=parseInt(j,10)+v.x);"right"==u&&(s=parseInt(j,10)+v.x);"top"==u&&(s=parseInt(j,10)+v.y);"bottom"==u&&(s=parseInt(j,10)+v.y);!e&&"show"==w?(s=1,t&&d.css({display:"LI"==d.context.tagName?"list-item":"block",opacity:0})):!e&&"hide"==w&&(s=0);e?(d=parseFloat(e[2]),e[1]&&(d=("-="===e[1]?
-1:1)*d+parseInt(s,10)),j=d):j=s}else j=void 0;if(e=!0!==a.avoidTransforms)if(e=i,d=j,w=g,L(w)){u=-1<c.inArray(e,Q);if(("width"==e||"height"==e||"opacity"==e)&&parseFloat(d)===parseFloat(w.css(e)))u=!1;e=u}else e=!1;if(e){e=g;d=i;w=b.duration;u=f;j=n&&!0===a.avoidTransforms?j+"px":j;var n=n&&!0!==a.avoidTransforms,s=l,t=!0===a.useTranslate3d,v=(v=e.data("jQe"))&&!z(v)?v:c.extend(!0,{},U),x=j;if(-1<c.inArray(d,H)){var C=v.meta,A=G(e.css(d))||0,y=d+"_o",x=j-A;C[d]=x;C[y]="auto"==e.css(d)?0+x:A+x||0;
v.meta=C;s&&0===x&&(x=0-C[y],C[d]=x,C[y]=0)}e.data("jQe",O(e,v,d,w,u,x,n,s,t))}else m[i]=a[i]}g.unbind("webkitTransitionEnd oTransitionEnd transitionend");if((i=g.data("jQe"))&&!z(i)&&!z(i.secondary)){p++;g.css(i.properties);var F=i.secondary;setTimeout(function(){g.bind("webkitTransitionEnd oTransitionEnd transitionend",h).css(F)})}else b.queue=!1;z(m)||(p++,I.apply(g,[m,{duration:b.duration,easing:c.easing[b.easing]?b.easing:c.easing.swing?"swing":"linear",complete:q,queue:b.queue}]));return!0})};
c.fn.animate.defaults={};c.fn.stop=function(a,b,n){if(!N)return J.apply(this,[a,b]);a&&this.queue([]);this.each(function(){var f=c(this),l=f.data("jQe");if(l&&!z(l)){var k,h={};if(b){if(h=l.secondary,!n&&void 0!==typeof l.meta.left_o||void 0!==typeof l.meta.top_o){h.left=void 0!==typeof l.meta.left_o?l.meta.left_o:"auto";h.top=void 0!==typeof l.meta.top_o?l.meta.top_o:"auto";for(k=r.length-1;0<=k;k--)h[r[k]+"transform"]=""}}else if(!z(l.secondary)){var p=window.getComputedStyle(f[0],null);if(p)for(var q in l.secondary)if(l.secondary.hasOwnProperty(q)&&
(q=q.replace(T,"-$1").toLowerCase(),h[q]=p.getPropertyValue(q),!n&&/matrix/i.test(h[q]))){k=h[q].replace(/^matrix\(/i,"").split(/, |\)$/g);h.left=parseFloat(k[4])+parseFloat(f.css("left"))+"px"||"auto";h.top=parseFloat(k[5])+parseFloat(f.css("top"))+"px"||"auto";for(k=r.length-1;0<=k;k--)h[r[k]+"transform"]=""}}f.unbind("webkitTransitionEnd oTransitionEnd transitionend");f.css(l.original).css(h).data("jQe",null)}else J.apply(f,[a,b])});return this}})(jQuery,jQuery.fn.animate,jQuery.fn.stop);

// OriDomi
;(function(){"use strict";var e,t,n,r,i,s,o,u,a,f,l,c,h;f=window;e=f.$||false;i=false;u=true;l=document.createElement("div");a=["Webkit","Moz","O","ms","Khtml"];n={transform:"transform",origin:"transformOrigin",transformStyle:"transformStyle",transitionProp:"transitionProperty",transitionDuration:"transitionDuration",transitionEasing:"transitionTimingFunction",perspective:"perspective",backface:"backfaceVisibility"};c=function(e){var t,n,r,i;if(l.style[e]!=null){return e}t=e.charAt(0).toUpperCase()+e.slice(1);for(r=0,i=a.length;r<i;r++){n=a[r];if(l.style[n+t]!=null){return n+t}}return false};for(o in n){h=n[o];n[o]=c(h);if(!n[o]){i&&console.warn("oriDomi: Browser does not support oriDomi");u=false;break}}n.gradientProp=function(){var e,t,n,r;for(n=0,r=a.length;n<r;n++){t=a[n];e="-"+t.toLowerCase()+"-linear-gradient";l.style.backgroundImage=""+e+"(left, #000, #fff)";if(l.style.backgroundImage.indexOf("gradient")!==-1){return e}}return"linear-gradient"}();n.transformProp=function(){var e;e=n.transform.match(/(\w+)Transform/i);if(e){return"-"+e[1].toLowerCase()+"-transform"}else{return"transform"}}();n.transitionEnd=function(){switch(n.transitionProp){case"transitionProperty":return"transitionEnd";case"WebkitTransitionProperty":return"webkitTransitionEnd";case"MozTransitionProperty":return"transitionend";case"OTransitionProperty":return"oTransitionEnd";case"MSTransitionProperty":return"msTransitionEnd"}}();s=function(e,t){var n;if(t!==Object(t)){i&&console.warn("oriDomi: Must pass an object to extend with");return e}if(e!==Object(e)){e={}}for(n in t){if(!(e[n]!=null)){e[n]=t[n]}}return e};r={vPanels:3,hPanels:3,perspective:1e3,shading:"hard",speed:700,oriDomiClass:"oridomi",shadingIntensity:1,easingMethod:"",showOnStart:false,forceAntialiasing:false};t=function(){function t(o,a){var l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q,R,U,z,W,X,V,J,K;this.options=a;this.el=o.cloneNode(true);this.originalEl=o;var Q=e(this.originalEl).parent();e(this.originalEl).detach();Q.prepend(e(this.el));i&&console.time("oridomiConstruction");if(!u){return this.el}if(!(this instanceof t)){return new oriDomi(this.el,this.settings)}this.settings=s(a,r);if(!(this.el!=null||this.el.nodeType!==1)){return i&&console.warn("oriDomi: First argument must be a DOM element")}R=this.settings,this.shading=R.shading,this.shadingIntensity=R.shadingIntensity,this.vPanels=R.vPanels,this.hPanels=R.hPanels;v=f.getComputedStyle(this.el);this.width=parseInt(v.width,10)+parseInt(v.paddingLeft,10)+parseInt(v.paddingRight,10)+parseInt(v.borderLeftWidth,10)+parseInt(v.borderRightWidth,10);this.height=parseInt(v.height,10)+parseInt(v.paddingTop,10)+parseInt(v.paddingBottom,10)+parseInt(v.borderTopWidth,10)+parseInt(v.borderBottomWidth,10);this.panelWidth=this.width/this.vPanels;this.panelHeight=this.height/this.hPanels;this.lastAngle=0;this.isFoldedUp=false;this.anchors=["left","right","top","bottom"];this.lastAnchor=this.anchors[0];this.panels={};this.stages={};x=document.createElement("div");x.style.width=this.width+"px";x.style.height=this.height+"px";x.style.display="none";x.style.position="absolute";x.style.padding="0";x.style.margin="0";x.style[n.perspective]=this.settings.perspective+"px";U=this.anchors;for(A=0,D=U.length;A<D;A++){l=U[A];this.panels[l]=[];this.stages[l]=x.cloneNode(false);this.stages[l].className="oridomi-stage-"+l}if(this.shading){this.shaders={};z=this.anchors;for(O=0,P=z.length;O<P;O++){l=z[O];this.shaders[l]={};if(l==="left"||l==="right"){this.shaders[l].left=[];this.shaders[l].right=[]}else{this.shaders[l].top=[];this.shaders[l].bottom=[]}}S=document.createElement("div");S.style[n.transitionProp]="opacity";S.style[n.transitionDuration]=this.settings.speed+"ms";S.style[n.transitionEasing]=this.settings.easingMethod;S.style.position="absolute";S.style.width="100%";S.style.height="100%";S.style.opacity="0";S.style.top="0";S.style.left="0"}d=this.el.cloneNode(true);d.classList.add("oridomi-content");d.style.margin="0";d.style.position="relative";d.style.float="none";m=document.createElement("div");m.className="oridomi-mask-h";m.style.position="absolute";m.style.overflow="hidden";m.style.width="100%";m.style.height="100%";m.style[n.transform]="translate3d(0, 0, 0)";m.appendChild(d);if(this.shading){T=S.cloneNode(false);T.className="oridomi-shader-top";T.style.background=this._getShaderGradient("top");h=S.cloneNode(false);h.className="oridomi-shader-bottom";h.style.background=this._getShaderGradient("bottom");m.appendChild(T);m.appendChild(h)}c=2;g=document.createElement("div");g.className="oridomi-panel-h";g.style.width="100%";g.style.height=this.panelHeight+c+"px";g.style.padding="0";g.style.position="relative";g.style[n.transitionProp]=n.transformProp;g.style[n.transitionDuration]=this.settings.speed+"ms";g.style[n.transitionEasing]=this.settings.easingMethod;g.style[n.origin]="top";g.style[n.transformStyle]="preserve-3d";g.style[n.backface]="hidden";if(this.settings.forceAntialiasing){g.style.outline="1px solid transparent"}g.appendChild(m);W=["top","bottom"];for(M=0,H=W.length;M<H;M++){l=W[M];for(y=_=0,X=this.hPanels;0<=X?_<X:_>X;y=0<=X?++_:--_){w=g.cloneNode(true);p=w.getElementsByClassName("oridomi-content")[0];if(l==="top"){L=-(y*this.panelHeight);if(y===0){w.style.top="0"}else{w.style.top=this.panelHeight+"px"}}else{w.style[n.origin]="bottom";L=-(this.hPanels*this.panelHeight-this.panelHeight*(y+1));if(y===0){w.style.top=this.panelHeight*(this.vPanels-1)-c+"px"}else{w.style.top=-this.panelHeight+"px"}}p.style.top=L+"px";if(this.shading){this.shaders[l].top[y]=w.getElementsByClassName("oridomi-shader-top")[0];this.shaders[l].bottom[y]=w.getElementsByClassName("oridomi-shader-bottom")[0]}this.panels[l][y]=w;if(y!==0){this.panels[l][y-1].appendChild(w)}}this.stages[l].appendChild(this.panels[l][0])}N=m.cloneNode(true);N.className="oridomi-mask-v";if(this.shading){b=N.getElementsByClassName("oridomi-shader-top")[0];b.className="oridomi-shader-left";b.style.background=this._getShaderGradient("left");E=N.getElementsByClassName("oridomi-shader-bottom")[0];E.className="oridomi-shader-right";E.style.background=this._getShaderGradient("right")}C=g.cloneNode(false);C.className="oridomi-panel-v";C.style.width=this.panelWidth+c+"px";C.style.height="100%";C.style[n.origin]="left";C.appendChild(N);V=["left","right"];for(F=0,B=V.length;F<B;F++){l=V[F];for(y=I=0,J=this.vPanels;0<=J?I<J:I>J;y=0<=J?++I:--I){w=C.cloneNode(true);p=w.getElementsByClassName("oridomi-content")[0];if(l==="left"){k=-(y*this.panelWidth);if(y===0){w.style.left="0"}else{w.style.left=this.panelWidth+"px"}}else{w.style[n.origin]="right";k=-(this.vPanels*this.panelWidth-this.panelWidth*(y+1));if(y===0){w.style.left=this.panelWidth*(this.vPanels-1)-1+"px"}else{w.style.left=-this.panelWidth+"px"}}p.style.left=k+"px";if(this.shading){this.shaders[l].left[y]=w.getElementsByClassName("oridomi-shader-left")[0];this.shaders[l].right[y]=w.getElementsByClassName("oridomi-shader-right")[0]}this.panels[l][y]=w;if(y!==0){this.panels[l][y-1].appendChild(w)}}this.stages[l].appendChild(this.panels[l][0])}this.el.classList.add(this.settings.oriDomiClass);this.el.style.padding="0";this.el.style.width=this.width+"px";this.el.style.height=this.height+"px";this.el.style.backgroundColor="transparent";this.el.style.backgroundImage="none";this.el.style.border="none";this.el.style.outline="none";this.stages.left.style.display="block";this.el.innerHTML="";K=this.anchors;for(q=0,j=K.length;q<j;q++){l=K[q];this.el.appendChild(this.stages[l])}if(this.settings.showOnStart){this.el.style.display="block";this.el.style.visibility="visible"}if(e){this.$el=e(this.el)}this._callback(this.settings);i&&console.timeEnd("oridomiConstruction")}t.prototype._callback=function(e){var t,r=this;if(typeof e.callback==="function"){t=function(r){r.currentTarget.removeEventListener(n.transitionEnd,t,false);return e.callback()};if(this.lastAngle===0){return e.callback()}else{return this.panels[this.lastAnchor][0].addEventListener(n.transitionEnd,t,false)}}};t.prototype._transform=function(e,t){var n,r;switch(this.lastAnchor){case"left":n=[0,1,0,e];break;case"right":n=[0,1,0,-e];break;case"top":n=[1,0,0,-e];break;case"bottom":n=[1,0,0,e]}if(t){r=[1,1,1],n[0]=r[0],n[1]=r[1],n[2]=r[2]}return"rotate3d("+n[0]+", "+n[1]+", "+n[2]+", "+n[3]+"deg)"};t.prototype._normalizeAngle=function(e){e=parseFloat(e,10);if(isNaN(e)){return 0}else if(e>89){i&&console.warn("oriDomi: Maximum value is 89");return 89}else if(e<-89){i&&console.warn("oriDomi: Minimum value is -89");return-89}else{return e}};t.prototype._normalizeArgs=function(e,t){var n,r,i,o=this;r=this._normalizeAngle(t[0]);n=this._getLonghandAnchor(t[1]);i=s(t[2],this._methodDefaults[e]);if(n!==this.lastAnchor||e==="foldUp"&&this.lastAngle!==0||this.isFoldedUp){this.reset(function(){o._showStage(n);return setTimeout(function(){if(e==="foldUp"){t.shift()}return o[e].apply(o,t)},0)});return false}else{this.lastAngle=r;return[r,n,i]}};t.prototype._setShader=function(e,t,n){var r,i,s,o;i=Math.abs(n);o=i/90*this.shadingIntensity;if(this.shading==="hard"){o*=.15;if(this.lastAngle<0){n=i}else{n=-i}}else{o*=.4}switch(t){case"left":case"top":if(n<0){r=o;s=0}else{r=0;s=o}break;case"right":case"bottom":if(n<0){r=0;s=o}else{r=o;s=0}}if(t==="left"||t==="right"){this.shaders[t].left[e].style.opacity=r;return this.shaders[t].right[e].style.opacity=s}else{this.shaders[t].top[e].style.opacity=r;return this.shaders[t].bottom[e].style.opacity=s}};t.prototype._getShaderGradient=function(e){return""+n.gradientProp+"("+e+", rgba(0, 0, 0, .5) 0%, rgba(255, 255, 255, .35) 100%)"};t.prototype._showStage=function(e){this.stages[e].style.display="block";this.stages[this.lastAnchor].style.display="none";return this.lastAnchor=e};t.prototype._getPanelType=function(e){if(e==="left"||e==="right"){return this.vPanels}else{return this.hPanels}};t.prototype._getLonghandAnchor=function(e){switch(e){case"left":case"l":case"4":case 4:return"left";case"right":case"r":case"2":case 2:return"right";case"top":case"t":case"1":case 1:return"top";case"bottom":case"b":case"3":case 3:return"bottom";default:return"left"}};t.prototype._methodDefaults={accordion:{sticky:false,stairs:false,fracture:false,twist:false},curl:{twist:false},ramp:{},foldUp:{}};t.prototype.reset=function(e){var t,r,i,s,o;if(this.isFoldedUp){return this.unfold(e)}o=this.panels[this.lastAnchor];for(t=i=0,s=o.length;i<s;t=++i){r=o[t];r.style[n.transform]=this._transform(0);if(this.shading){this._setShader(t,this.lastAnchor,0)}}return this._callback({callback:e})};t.prototype.accordion=function(e,t,r){var i,s,o,u,a,f,l;o=this._normalizeArgs("accordion",arguments);if(!o){return}e=o[0],t=o[1],r=o[2];l=this.panels[t];for(s=a=0,f=l.length;a<f;s=++a){u=l[s];if(s%2!==0&&!r.twist){i=-e}else{i=e}if(r.sticky){if(s===0){i=0}else if(s>1||r.stairs){i*=2}}else{if(s!==0){i*=2}}if(r.stairs){i=-i}u.style[n.transform]=this._transform(i,r.fracture);if(this.shading&&!(s===0&&r.sticky)&&Math.abs(i)!==180){this._setShader(s,t,i)}}return this._callback(r)};t.prototype.curl=function(e,t,r){var i,s,o,u,a,f;s=this._normalizeArgs("curl",arguments);if(!s){return}e=s[0],t=s[1],r=s[2];e/=this._getPanelType(t);f=this.panels[t];for(i=u=0,a=f.length;u<a;i=++u){o=f[i];o.style[n.transform]=this._transform(e);if(this.shading){this._setShader(i,t,0)}}return this._callback(r)};t.prototype.ramp=function(e,t,r){var i,s,o,u,a,f;s=this._normalizeArgs("ramp",arguments);if(!s){return}e=s[0],t=s[1],r=s[2];this.panels[t][1].style[n.transform]=this._transform(e);f=this.panels[t];for(i=u=0,a=f.length;u<a;i=++u){o=f[i];if(i>1){this.panels[t][i].style[n.transform]=this._transform(0)}if(this.shading){this._setShader(i,t,0)}}return this._callback(r)};t.prototype.foldUp=function(e,t){var r,i,s,o,u,a=this;if(!e){e="left"}else if(typeof e==="function"){t=e}o=this._normalizeArgs("foldUp",[0,e,{}]);if(!o){return}e=o[1];this.isFoldedUp=true;i=this.panels[e].length-1;r=100;s=function(){a.panels[e][i].addEventListener(n.transitionEnd,u,false);a.panels[e][i].style[n.transform]=a._transform(r);if(a.shading){return a._setShader(i,e,r)}};u=function(r){a.panels[e][i].removeEventListener(n.transitionEnd,u,false);a.panels[e][i].style.display="none";if(--i===0){if(typeof t==="function"){return t()}}else{return setTimeout(s,0)}};return s()};t.prototype.unfold=function(e){var t,r,i,s,o=this;if(!this.isFoldedUp){if(typeof e==="function"){e()}}this.isFoldedUp=false;r=1;t=0;i=function(){o.panels[o.lastAnchor][r].style.display="block";return setTimeout(function(){o.panels[o.lastAnchor][r].addEventListener(n.transitionEnd,s,false);o.panels[o.lastAnchor][r].style[n.transform]=o._transform(t);if(o.shading){return o._setShader(r,o.lastAnchor,t)}},0)};s=function(t){o.panels[o.lastAnchor][r].removeEventListener(n.transitionEnd,s,false);if(++r===o.panels[o.lastAnchor].length){if(typeof e==="function"){return e()}}else{return setTimeout(i,0)}};return i()};t.prototype.collapse=function(e,t){if(t==null){t={}}t.sticky=false;return this.accordion(-89,e,t)};t.prototype.collapseAlt=function(e,t){if(t==null){t={}}t.sticky=false;return this.accordion(89,e,t)};t.prototype.reveal=function(e,t,n){if(n==null){n={}}n.sticky=true;return this.accordion(e,t,n)};t.prototype.stairs=function(e,t,n){if(n==null){n={}}n.stairs=true;n.sticky=true;return this.accordion(e,t,n)};t.prototype.fracture=function(e,t,n){if(n==null){n={}}n.fracture=true;return this.accordion(e,t,n)};t.prototype.twist=function(e,t,n){if(n==null){n={}}n.fracture=true;n.twist=true;return this.accordion(e/10,t,n)};t.prototype.destroy=function(){var t=e(this.el).parent();e(this.el).remove();t.append(e(this.originalEl));e.data(this.originalEl,"oriDomi",undefined);delete this};t.prototype.restoreDOM=function(){var t=e(this.el).parent();if(this.originalEl!=undefined&&t.length>0){e(this.el).detach();t.prepend(e(this.originalEl))}};t.prototype.restoreOriDomi=function(){var n=e(this.originalEl).parent();if(this.originalEl!=undefined&&n.length>0){var r=this.originalEl;var i=this.options;this.destroy();e.data(r,"oriDomi",new t(r,i))}};return t}();t.VERSION="0.1.2";t.devMode=function(){return i=true};f.OriDomi=t;if(e){e.fn.oriDomi=function(n){var r,s,o,a,f,l,c;if(!u){return this}if(typeof n==="string"){if(typeof t.prototype[n]!=="function"){return i&&console.warn("oriDomi: No such method '"+n+"'")}for(a=0,l=this.length;a<l;a++){s=this[a];o=e.data(s,"oriDomi");if(o==null){return i&&console.warn("oriDomi: Can't call "+n+", oriDomi hasn't been initialized on this element")}r=Array.prototype.slice.call(arguments);r.shift();o[n].apply(o,r)}return this}else{for(f=0,c=this.length;f<c;f++){s=this[f];o=e.data(s,"oriDomi");if(o){return o}else{e.data(s,"oriDomi",new t(s,n))}}return this}}}}).call(this)

// Sliding View
;var SlidingView=function(e,t){window.slidingView=this;this.gestureStarted=false;this.bodyOffset=0;this.sidebarWidth=90;this.sidebar=$("#"+e);this.body=$("#"+t);this.sidebar.addClass("slidingview_sidebar");this.body.addClass("slidingview_body");var n=this;$(window).on("resize",function(e){n.resizeContent()});$(this.parent).on("resize",function(e){n.resizeContent()});if("onorientationchange"in window){$(window).on("onorientationchange",function(e){n.resizeContent()})}this.resizeContent();this.setupEventHandlers()};SlidingView.prototype.setupEventHandlers=function(){this.touchSupported="ontouchstart"in window;this.START_EVENT=this.touchSupported?"touchstart":"mousedown";this.MOVE_EVENT=this.touchSupported?"touchmove":"mousemove";this.END_EVENT=this.touchSupported?"touchend":"mouseup";var e=this;this.touchStartHandler=function(t){e.onTouchStart(t)};this.body.get()[0].addEventListener(this.START_EVENT,this.touchStartHandler,false)};SlidingView.prototype.onTouchStart=function(e){this.gestureStartPosition=this.getTouchCoordinates(e);var t=this;this.touchMoveHandler=function(e){t.onTouchMove(e)};this.touchUpHandler=function(e){t.onTouchEnd(e)};this.body.get()[0].addEventListener(this.MOVE_EVENT,this.touchMoveHandler,false);this.body.get()[0].addEventListener(this.END_EVENT,this.touchUpHandler,false);this.body.stop()};SlidingView.prototype.onTouchMove=function(e){if($(e.target).closest("#map_canvas").length>0){e.preventDefault();e.stopPropagation();this.unbindEvents();return false}var t=this.getTouchCoordinates(e);if(this.gestureStarted){e.preventDefault();e.stopPropagation();this.updateBasedOnTouchPoints(t);return}else{if(Math.abs(t.y-this.gestureStartPosition.y)>50){this.unbindEvents();return}else if(Math.abs(t.x-this.gestureStartPosition.x)>50){this.gestureStarted=true;e.preventDefault();e.stopPropagation();this.updateBasedOnTouchPoints(t);return}}};SlidingView.prototype.onTouchEnd=function(e){if(this.gestureStarted){this.snapToPosition()}this.gestureStarted=false;this.unbindEvents()};SlidingView.prototype.updateBasedOnTouchPoints=function(e){var t=e.x-this.gestureStartPosition.x,n=Math.min(Math.max(this.bodyOffset+t,0),this.sidebarWidth);this.bodyOffset=n;if(this.body.css("left")!="0px"){this.body.css("left","0px")}this.body.css("-webkit-transform","translate3d("+n+"px,0,0)");this.body.css("transform","translate3d("+n+"px,0,0)");this.sidebar.trigger("slidingViewProgress",{current:n,max:this.sidebarWidth});this.gestureStartPosition=e};SlidingView.prototype.snapToPosition=function(){var e=this.bodyOffset,t=this.sidebarWidth/2,n;this.body.css("left","0px");n=e<t?0:this.sidebarWidth;this.bodyOffset=n;if(n===0){this.close()}else{this.open()}if(e!=n){this.slideView(n)}};SlidingView.prototype.slideView=function(e){this.body.stop(true,false).animate({left:e,avoidTransforms:false,useTranslate3d:true},300);this.sidebar.trigger("slidingViewProgress",{current:e,max:this.sidebarWidth})};SlidingView.prototype.close=function(){this.bodyOffset=0;this.slideView(0)};SlidingView.prototype.open=function(){if(this.bodyOffset==this.sidebarWidth)return;this.bodyOffset=this.sidebarWidth;this.slideView(this.sidebarWidth)};SlidingView.prototype.toggle=function(){if(this.bodyOffset!==0){this.close()}else{this.open()}};SlidingView.prototype.unbindEvents=function(){this.body.get()[0].removeEventListener(this.MOVE_EVENT,this.touchMoveHandler,false);this.body.get()[0].removeEventListener(this.END_EVENT,this.touchUpHandler,false)};SlidingView.prototype.getTouchCoordinates=function(e){var t={x:0,y:0};if(this.touchSupported){var n=e.touches[0];t.x=n.pageX;t.y=n.pageY}else{t.x=e.screenX;t.y=e.screenY}return t};SlidingView.prototype.resizeContent=function(){this.body.width($(window).width());$(".sidebar, .sidebar ul").height($(window).height());$(".sidebar ul li").each(function(){$(this).css({height:"34%"});$(this).css("height",$(this).height())})}

// Mustache
;(function(a,b){"object"==typeof exports&&exports?module.exports=b:"function"==typeof define&&define.amd?define(b):a.Mustache=b})(this,function(){function j(a,b){return h.call(a,b)}function k(a){return!j(d,a)}function m(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function o(a){return(a+"").replace(/[&<>"'\/]/g,function(a){return n[a]})}function p(a){this.string=a,this.tail=a,this.pos=0}function q(a,b){this.view=a,this.parent=b,this._cache={}}function r(){this.clearCache()}function s(b,c,d,e){for(var g,h,i,f="",j=0,k=b.length;k>j;++j)switch(g=b[j],h=g[1],g[0]){case"#":if(i=d.lookup(h),"object"==typeof i)if(l(i))for(var m=0,n=i.length;n>m;++m)f+=s(g[4],c,d.push(i[m]),e);else i&&(f+=s(g[4],c,d.push(i),e));else if("function"==typeof i){var o=null==e?null:e.slice(g[3],g[5]);i=i.call(d.view,o,function(a){return c.render(a,d)}),null!=i&&(f+=i)}else i&&(f+=s(g[4],c,d,e));break;case"^":i=d.lookup(h),(!i||l(i)&&0===i.length)&&(f+=s(g[4],c,d,e));break;case">":i=c.getPartial(h),"function"==typeof i&&(f+=i(d));break;case"&":i=d.lookup(h),null!=i&&(f+=i);break;case"name":i=d.lookup(h),null!=i&&(f+=a.escape(i));break;case"text":f+=h}return f}function t(a){for(var e,b=[],c=b,d=[],f=0,g=a.length;g>f;++f)switch(e=a[f],e[0]){case"#":case"^":d.push(e),c.push(e),c=e[4]=[];break;case"/":var h=d.pop();h[5]=e[2],c=d.length>0?d[d.length-1][4]:b;break;default:c.push(e)}return b}function u(a){for(var c,d,b=[],e=0,f=a.length;f>e;++e)c=a[e],c&&("text"===c[0]&&d&&"text"===d[0]?(d[1]+=c[1],d[3]=c[3]):(d=c,b.push(c)));return b}function v(a){return[RegExp(m(a[0])+"\\s*"),RegExp("\\s*"+m(a[1]))]}var a={};a.name="mustache.js",a.version="0.7.2",a.tags=["{{","}}"],a.Scanner=p,a.Context=q,a.Writer=r;var b=/\s*/,c=/\s+/,d=/\S/,e=/\s*=/,f=/\s*\}/,g=/#|\^|\/|>|\{|&|=|!/,h=RegExp.prototype.test,i=Object.prototype.toString,l=Array.isArray||function(a){return"[object Array]"===i.call(a)},n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};a.escape=o,p.prototype.eos=function(){return""===this.tail},p.prototype.scan=function(a){var b=this.tail.match(a);return b&&0===b.index?(this.tail=this.tail.substring(b[0].length),this.pos+=b[0].length,b[0]):""},p.prototype.scanUntil=function(a){var b,c=this.tail.search(a);switch(c){case-1:b=this.tail,this.pos+=this.tail.length,this.tail="";break;case 0:b="";break;default:b=this.tail.substring(0,c),this.tail=this.tail.substring(c),this.pos+=c}return b},q.make=function(a){return a instanceof q?a:new q(a)},q.prototype.push=function(a){return new q(a,this)},q.prototype.lookup=function(a){var b=this._cache[a];if(!b){if("."==a)b=this.view;else for(var c=this;c;){if(a.indexOf(".")>0){b=c.view;for(var d=a.split("."),e=0;b&&d.length>e;)b=b[d[e++]]}else b=c.view[a];if(null!=b)break;c=c.parent}this._cache[a]=b}return"function"==typeof b&&(b=b.call(this.view)),b},r.prototype.clearCache=function(){this._cache={},this._partialCache={}},r.prototype.compile=function(b,c){var d=this._cache[b];if(!d){var e=a.parse(b,c);d=this._cache[b]=this.compileTokens(e,b)}return d},r.prototype.compilePartial=function(a,b,c){var d=this.compile(b,c);return this._partialCache[a]=d,d},r.prototype.getPartial=function(a){return a in this._partialCache||!this._loadPartial||this.compilePartial(a,this._loadPartial(a)),this._partialCache[a]},r.prototype.compileTokens=function(a,b){var c=this;return function(d,e){if(e)if("function"==typeof e)c._loadPartial=e;else for(var f in e)c.compilePartial(f,e[f]);return s(a,c,q.make(d),b)}},r.prototype.render=function(a,b,c){return this.compile(a)(b,c)},a.parse=function(d,h){function s(){if(q&&!r)for(;o.length;)delete n[o.pop()];else o=[];q=!1,r=!1}if(d=d||"",h=h||a.tags,"string"==typeof h&&(h=h.split(c)),2!==h.length)throw Error("Invalid tags: "+h.join(", "));for(var w,x,y,z,A,i=v(h),j=new p(d),l=[],n=[],o=[],q=!1,r=!1;!j.eos();){if(w=j.pos,y=j.scanUntil(i[0]))for(var B=0,C=y.length;C>B;++B)z=y.charAt(B),k(z)?o.push(n.length):r=!0,n.push(["text",z,w,w+1]),w+=1,"\n"==z&&s();if(!j.scan(i[0]))break;if(q=!0,x=j.scan(g)||"name",j.scan(b),"="===x?(y=j.scanUntil(e),j.scan(e),j.scanUntil(i[1])):"{"===x?(y=j.scanUntil(RegExp("\\s*"+m("}"+h[1]))),j.scan(f),j.scanUntil(i[1]),x="&"):y=j.scanUntil(i[1]),!j.scan(i[1]))throw Error("Unclosed tag at "+j.pos);if(A=[x,y,w,j.pos],n.push(A),"#"===x||"^"===x)l.push(A);else if("/"===x){if(0===l.length)throw Error('Unopened section "'+y+'" at '+w);var D=l.pop();if(D[1]!==y)throw Error('Unclosed section "'+D[1]+'" at '+w)}else if("name"===x||"{"===x||"&"===x)r=!0;else if("="===x){if(h=y.split(c),2!==h.length)throw Error("Invalid tags at "+w+": "+h.join(", "));i=v(h)}}var D=l.pop();if(D)throw Error('Unclosed section "'+D[1]+'" at '+j.pos);return n=u(n),t(n)};var w=new r;return a.clearCache=function(){return w.clearCache()},a.compile=function(a,b){return w.compile(a,b)},a.compilePartial=function(a,b,c){return w.compilePartial(a,b,c)},a.compileTokens=function(a,b){return w.compileTokens(a,b)},a.render=function(a,b,c){return w.render(a,b,c)},a.to_html=function(b,c,d,e){var f=a.render(b,c,d);return"function"!=typeof e?f:(e(f),void 0)},a}());

// Makisu
;(function(e){var t=!1,n=document.createElement("div"),r=/^(Moz|(w|W)ebkit|O|ms)(?=[A-Z])/,i=function(){for(var e in n.style)if(r.test(e))return e.match(r)[0]}()||"",s=i+"Perspective"in n.style,o="-"+i.toLowerCase()+"-",u,a,f,l,c,h,p,d,v,m,g,y={toggle:function(){u=e(this),u.makisu(u.hasClass("open")?"close":"open")},open:function(t,n,r){u=e(this),a=u.find(".root"),l=u.find(".node").not(a),t=b.resolve(u,"speed",t),r=b.resolve(u,"easing",r),n=b.resolve(u,"overlap",n),l.each(function(i,s){m="unfold"+(i?"":"-first"),g=i===l.length-1,time=t*(1-n),v=i*time,h=e(s),p=h.find(".over"),h.css(b.prefix({transform:"rotateX(180deg)",animation:m+" "+t+"s "+r+" "+v+"s 1 normal forwards"})),g||(v=(i+1)*time),p.css(b.prefix({animation:"unfold-over "+t*.45+"s "+r+" "+v+"s 1 normal forwards"}))}),a.css(b.prefix({animation:"swing-out "+l.length*time*1.4+"s ease-in-out 0s 1 normal forwards"})),u.addClass("open")},close:function(t,n,r){u=e(this),a=u.find(".root"),l=u.find(".node").not(a),t=b.resolve(u,"speed",t)*.66,r=b.resolve(u,"easing",r),n=b.resolve(u,"overlap",n),l.each(function(i,s){m="fold"+(i?"":"-first"),g=i===0,time=t*(1-n),v=(l.length-i-1)*time,h=e(s),p=h.find(".over"),h.css(b.prefix({transform:"rotateX(0deg)",animation:m+" "+t+"s "+r+" "+v+"s 1 normal forwards"})),g||(v=(l.length-i-2)*time+t*.35),p.css(b.prefix({animation:"fold-over "+t*.45+"s "+r+" "+v+"s 1 normal forwards"}))}),a.css(b.prefix({animation:"swing-in "+l.length*time*1+"s ease-in-out 0s 1 normal forwards"})),u.removeClass("open")}},b={resolve:function(e,t,n){return typeof n=="undefined"?e.data(t):n},prefix:function(e){for(var t in e)e[o+t]=e[t];return e},inject:function(e){try{var t=document.createElement("style");t.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(t)}catch(n){}}},w={node:'<span class="node"/>',back:'<span class="face back"/>',over:'<span class="face over"/>'};e.fn.makisu=function(n){if(!s){var r="Failed to detect CSS 3D support";console&&console.warn&&(console.warn(r),this.each(function(){e(this).trigger("error",r)}));return}t||(t=!0,b.inject("@"+o+"keyframes unfold        {"+"0%   {"+o+"transform: rotateX(180deg);  }"+"50%  {"+o+"transform: rotateX(-30deg);  }"+"100% {"+o+"transform: rotateX(0deg);    }"+"}"),b.inject("@"+o+"keyframes unfold-first  {"+"0%   {"+o+"transform: rotateX(-90deg);  }"+"50%  {"+o+"transform: rotateX(60deg);   }"+"100% {"+o+"transform: rotateX(0deg);    }"+"}"),b.inject("@"+o+"keyframes fold          {"+"0%   {"+o+"transform: rotateX(0deg);    }"+"100% {"+o+"transform: rotateX(180deg);  }"+"}"),b.inject("@"+o+"keyframes fold-first    {"+"0%   {"+o+"transform: rotateX(0deg);    }"+"100% {"+o+"transform: rotateX(-180deg); }"+"}"),b.inject("@"+o+"keyframes swing-out     {"+"0%   {"+o+"transform: rotateX(0deg);    }"+"30%  {"+o+"transform: rotateX(-30deg);  }"+"60%  {"+o+"transform: rotateX(15deg);   }"+"100% {"+o+"transform: rotateX(0deg);    }"+"}"),b.inject("@"+o+"keyframes swing-in      {"+"0%   {"+o+"transform: rotateX(0deg);    }"+"50%  {"+o+"transform: rotateX(-10deg);  }"+"90%  {"+o+"transform: rotateX(15deg);   }"+"100% {"+o+"transform: rotateX(0deg);    }"+"}"),b.inject("@"+o+"keyframes unfold-over   {"+"0%   { opacity: 1.0; }"+"100% { opacity: 0.0; }"+"}"),b.inject("@"+o+"keyframes fold-over     {"+"0%   { opacity: 0.0; }"+"100% { opacity: 1.0; }"+"}"),b.inject(".node {position: relative;display: block;}"),b.inject(".face {pointer-events: none;position: absolute;display: block;height: 100%;width: 100%;left: 0;top: 0;}"));var i=e.extend({},e.fn.makisu.defaults,n),v=Array.prototype.slice.call(arguments,1);return this.each(function(){if(y[n])return y[n].apply(this,v);u=e(this).data(i),u.data("initialized")||(u.data("initialized",!0),l=u.children(i.selector),a=e(w.node).addClass("root"),f=a,l.each(function(t,n){h=e(n),m="fold"+(t?"":"-first"),h.css("position","relative"),h.css(b.prefix({"transform-style":"preserve-3d",transform:"translateZ(-0.1px)"})),d=e(w.back),d.css("background",h.css("background")),d.css(b.prefix({transform:"translateZ(-0.1px)"})),p=e(w.over),p.css(b.prefix({transform:"translateZ(0.1px)"})),p.css({background:i.shading,opacity:0}),c=e(w.node).append(h),c.css(b.prefix({"transform-origin":"50% 0%","transform-style":"preserve-3d",animation:m+" 1ms linear 0s 1 normal forwards"})),h.append(p),h.append(d),f.append(c),f=c}),a.css(b.prefix({"transform-origin":"50% 0%","transform-style":"preserve-3d"})),u.css(b.prefix({transform:"perspective("+i.perspective+"px)"})),u.append(a))})},e.fn.makisu.defaults={perspective:1200,shading:"rgba(0,0,0,0.12)",selector:null,overlap:.6,speed:.8,easing:"ease-in-out"},e.fn.makisu.enabled=s})(jQuery);